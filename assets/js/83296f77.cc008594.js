"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[4162],{91033:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var a=n(87462),o=(n(67294),n(3905));const i={title:"Preparing Sentinel Docker image",sidebar_position:4},l="Preparing Sentinel Docker Image",r={unversionedId:"docker-image",id:"docker-image",title:"Preparing Sentinel Docker image",description:"Method 1 - Prebuilt",source:"@site/docs/node-setup/docker-image.md",sourceDirName:".",slug:"/docker-image",permalink:"/node-setup/docker-image",draft:!1,editUrl:"https://github.com/sentinel-official/docs/tree/main/docs/node-setup/docker-image.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Preparing Sentinel Docker image",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Install Docker",permalink:"/node-setup/docker-setup"},next:{title:"Node Configuration",permalink:"/node-setup/node-config"}},s={},c=[{value:"Method 1 - Prebuilt",id:"method-1---prebuilt",level:2},{value:"Method 2 - From Source",id:"method-2---from-source",level:2},{value:"Clone the GitHub repository",id:"clone-the-github-repository",level:3},{value:"Checkout to the latest tag",id:"checkout-to-the-latest-tag",level:3},{value:"Build the image",id:"build-the-image",level:3},{value:"Create a self-signed TLS certificate",id:"create-a-self-signed-tls-certificate",level:2}],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"preparing-sentinel-docker-image"},"Preparing Sentinel Docker Image"),(0,o.kt)("h2",{id:"method-1---prebuilt"},"Method 1 - Prebuilt"),(0,o.kt)("p",null,"Pull the image (check your desired version from this ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/sentinel-official/dvpn-node/pkgs/container/dvpn-node"},"link"),")"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker pull ghcr.io/sentinel-official/dvpn-node:latest\n")),(0,o.kt)("p",null,"Tag the image"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker tag ghcr.io/sentinel-official/dvpn-node:latest sentinel-dvpn-node\n")),(0,o.kt)("h2",{id:"method-2---from-source"},"Method 2 - From Source"),(0,o.kt)("h3",{id:"clone-the-github-repository"},"Clone the GitHub repository"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/sentinel-official/dvpn-node.git \\\n    ${HOME}/dvpn-node/\n")),(0,o.kt)("h3",{id:"checkout-to-the-latest-tag"},"Checkout to the latest tag"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Option 1 - Automatic to the latest tag")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ${HOME}/dvpn-node/ && \\\ncommit=$(git rev-list --tags --max-count=1) && \\\ngit checkout $(git describe --tags ${commit})\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Option 2 - Manual (if the previous command does not work for some reasons). Check here for the last current release")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/dvpn-node && \\\ngit fetch && \\\ngit checkout v0.7.0\n")),(0,o.kt)("h3",{id:"build-the-image"},"Build the image"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker build --file Dockerfile \\\n    --tag sentinel-dvpn-node \\\n    --force-rm \\\n    --no-cache \\\n    --compress .\n")),(0,o.kt)("h2",{id:"create-a-self-signed-tls-certificate"},"Create a self-signed TLS certificate"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"openssl req -new \\\n    -newkey ec \\\n    -pkeyopt ec_paramgen_curve:prime256v1 \\\n    -x509 \\\n    -sha256 \\\n    -days 365 \\\n    -nodes \\\n    -out ${HOME}/tls.crt \\\n    -keyout ${HOME}/tls.key\n")),(0,o.kt)("p",null,"You will be asked to fill in some fields. Please insert the country while you can leave the others blank. If you want to automate this process, just add the following line to the command above:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'-subj "/C=NA/ST=NA/L=./O=NA/OU=./CN=." \\\n')))}p.isMDXComponent=!0}}]);