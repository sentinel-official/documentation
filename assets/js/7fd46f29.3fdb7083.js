"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[6262],{24802:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>n,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var s=t(85893),r=t(11151);const a={title:"Cosmos Validator Exporter",sidebar_position:3},n="Cosmos Validator Exporter",i={id:"exporters/cosmos-validator-exporter",title:"Cosmos Validator Exporter",description:"Cosmos Validator Exporter can be used to create a dashboard for one or multiple validators, enabling you to visualize essential metrics such as the total staked amount, delegator count, and more. Additionally, you can set up alerts for various validator metrics, including their status, ranking, total staked amount, and more.",source:"@site/docs/node-monitoring/exporters/cosmos-validator-exporter.md",sourceDirName:"exporters",slug:"/exporters/cosmos-validator-exporter",permalink:"/node-monitoring/exporters/cosmos-validator-exporter",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Cosmos Validator Exporter",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Tendermint Internal Metrics",permalink:"/node-monitoring/exporters/tendermint-internal-metrics"},next:{title:"Cosmos Node Exporter",permalink:"/node-monitoring/exporters/cosmos-node-exporter"}},l={},d=[{value:"Download &amp; Installation",id:"download--installation",level:2},{value:"Add a system unit file",id:"add-a-system-unit-file",level:2},{value:"Start Cosmos Validator Exporter service",id:"start-cosmos-validator-exporter-service",level:2}];function c(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h1,{id:"cosmos-validator-exporter",children:"Cosmos Validator Exporter"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.a,{href:"https://github.com/QuokkaStake/cosmos-validators-exporter",children:"Cosmos Validator Exporter"})," can be used to create a dashboard for one or multiple validators, enabling you to visualize essential metrics such as the total staked amount, delegator count, and more. Additionally, you can set up alerts for various validator metrics, including their status, ranking, total staked amount, and more."]}),"\n",(0,s.jsx)(o.h2,{id:"download--installation",children:"Download & Installation"}),"\n",(0,s.jsxs)(o.p,{children:["To get started, begin by downloading the most recent ",(0,s.jsx)(o.a,{href:"https://github.com/QuokkaStake/cosmos-validators-exporter/releases",children:"release"}),". Once the download is complete, proceed to unzip the file, and you'll be all set to proceed."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"mkdir cosmos-validator-exporter\ncd cosmos-validator-exporter\nwget https://github.com/QuokkaStake/cosmos-validators-exporter/releases/download/v4.0.0/cosmos-validators-exporter_4.0.0_linux_amd64.tar.gz\ntar xvfz cosmos-validators-exporter_4.0.0_linux_amd64.tar.gz\nsudo rm -f cosmos-validators-exporter_4.0.0_linux_amd64.tar.gz\n"})}),"\n",(0,s.jsx)(o.h2,{id:"add-a-system-unit-file",children:"Add a system unit file"}),"\n",(0,s.jsx)(o.p,{children:"Create the .service file with a text editor"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo nano /etc/systemd/system/cosmos-validator-exporter.service\n"})}),"\n",(0,s.jsx)(o.p,{children:"Paste the below text"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",metastring:"title=/etc/systemd/system/cosmos-validator-exporter.service",children:"[Unit]\nDescription=Cosmos Validator Exporter\nAfter=network-online.target\n\u200b\n[Service]\nUser=youruser #modify this field with your user\nTimeoutStartSec=0\nCPUWeight=95\nIOWeight=95\nExecStart=/home/<your-user>cosmos-validator-exporter/cosmos-validator-exporter --config /home/<your-user>cosmos-validator-exporter/config.toml\nRestart=always\nRestartSec=2\nLimitNOFILE=800000\nKillSignal=SIGTERM\n\u200b\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsx)(o.p,{children:"Reload the systemd Daemon"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,s.jsx)(o.p,{children:"Enable autostart of Cosmos Validator Exporter service"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo systemctl enable cosmos-validator-exporter.service\n"})}),"\n",(0,s.jsx)(o.h2,{id:"start-cosmos-validator-exporter-service",children:"Start Cosmos Validator Exporter service"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo systemctl start cosmos-validator-exporter.service\n"})}),"\n",(0,s.jsx)(o.p,{children:"Use this command to check logs in real time"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo journalctl -u cosmos-validator-exporter.service -f --output cat\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Once the Cosmos Validator Exporter is installed and running, you can verify that ",(0,s.jsx)(o.code,{children:"metrics"})," are being exported by cURLing the /metrics endpoint:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"curl http://localhost:9560/metrics\n"})}),"\n",(0,s.jsx)(o.p,{children:"Success! Cosmos Validator Exporter is now exposing metrics that Prometheus can scrape, including a wide variety of system metrics further down in the output."}),"\n",(0,s.jsxs)(o.admonition,{title:"Important",type:"danger",children:[(0,s.jsx)(o.p,{children:"After successfully installing and launching Cosmos Validator Exporter, the next step is to open port 9560 on your Validator's firewall. This port should be accessible exclusively from your monitoring machine. This action is essential to enable Prometheus to collect data from Cosmos Validator Exporter."}),(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"sudo ufw allow from monitor_ip to validator_ip port 9560\n"})})]})]})}function m(e={}){const{wrapper:o}={...(0,r.a)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);