"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[433],{70616:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>n,metadata:()=>r,toc:()=>d});var o=i(87462),a=(i(67294),i(3905));const n={title:"Edit Validator Config",description:"Modify your validator config.toml file",sidebar_position:4},l="Edit Validator Config",r={unversionedId:"tmkms/edit-val-config",id:"tmkms/edit-val-config",title:"Edit Validator Config",description:"Modify your validator config.toml file",source:"@site/docs/validator-setup/tmkms/edit-val-config.md",sourceDirName:"tmkms",slug:"/tmkms/edit-val-config",permalink:"/validator-setup/tmkms/edit-val-config",draft:!1,editUrl:"https://github.com/sentinel-official/docs/tree/main/docs/validator-setup/tmkms/edit-val-config.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Edit Validator Config",description:"Modify your validator config.toml file",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Setup & Config",permalink:"/validator-setup/tmkms/setup-config"},next:{title:"Run the Validator with TMKMS",permalink:"/validator-setup/tmkms/run-tmkms-val"}},s={},d=[],c={toc:d},m="wrapper";function p(t){let{components:e,...i}=t;return(0,a.kt)(m,(0,o.Z)({},c,i,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"edit-validator-config"},"Edit Validator Config"),(0,a.kt)("p",null,"Now we need the validator config file to use the port you selected in the tmkms.toml file."),(0,a.kt)("p",null,"To do this open the config file"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo nano $HOME/.sentinelhub/config/config.toml\n")),(0,a.kt)("p",null,"Set the field private validator listening address"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=$HOME/.sentinelhub/config/config.toml",title:"$HOME/.sentinelhub/config/config.toml"},'priv_validator_laddr = "tcp://0.0.0.0:26659"\n')),(0,a.kt)("p",null,"It is also recommended to comment out the ",(0,a.kt)("inlineCode",{parentName:"p"},"priv_validator_key_file")," line and the ",(0,a.kt)("inlineCode",{parentName:"p"},"priv_validator_state_file")," line:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=$HOME/.sentinelhub/config/config.toml",title:"$HOME/.sentinelhub/config/config.toml"},'# Path to the JSON file containing the private key to use as a validator in the consensus protocol\n# priv_validator_key_file = "config/priv_validator_key.json"\n\n# Path to the JSON file containing the last sign state of a validator\n# priv_validator_state_file = "data/priv_validator_state.json"\n')),(0,a.kt)("p",null,"Open the door 26659 on Validator firewall and allow it to accept incoming traffic only from the TMKMS machine:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo ufw allow from tmkms_ip to validator_ip port 26659\n")))}p.isMDXComponent=!0}}]);