"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[2002,791],{30791:(t,e,s)=>{s.r(e),s.d(e,{dyte_participants_stage_list:()=>c});var i=s(37176),a=s(68753),r=s(74710),n=s(9367),o=(s(78410),s(60804),s(67341)),p=s(39571);const c=class{constructor(t){(0,i.r)(this,t),this.updateStageList=()=>{var t,e,s;"LIVESTREAM"===(null===(t=this.meeting)||void 0===t?void 0:t.meta.viewType)?this.showStageList="ON_STAGE"===(null===(s=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===s?void 0:s.status):this.showStageList=!0,this.getParticipants(this.search)},this.meeting=void 0,this.config=n.d,this.size=void 0,this.iconPack=a.d,this.view="sidebar",this.t=(0,r.u)(),this.search="",this.participants=[],this.showStageList=!1}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){const{participants:t,stage:e}=this.meeting;null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),t.joined.removeListener("stageStatusUpdate",this.getParticipants),null==e||e.removeListener("stageStatusUpdate",this.updateStageList))}meetingChanged(t){null!=t&&(this.participantJoinedListener=t=>{if("ON_STAGE"!==t.stageStatus)return;const e=this.search.toLowerCase();t.name.toLowerCase().includes(e)&&t.id.toLowerCase().includes(e)&&(this.participants=[...this.participants.filter((e=>e.id!==t.id)),t])},this.participantLeftListener=t=>{this.participants=this.participants.filter((e=>e.id!==t.id))},t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener),this.updateStageList(),null==t||t.participants.joined.on("stageStatusUpdate",this.updateStageList),null==t||t.stage.on("stageStatusUpdate",this.updateStageList))}searchChanged(t){this.getParticipants(t)}getParticipants(t=this.search){let e="ON_STAGE"===this.meeting.stage.status?[this.meeting.self]:[];e=[...e,...this.meeting.participants.joined.toArray().filter((t=>"ON_STAGE"===t.stageStatus))],this.participants=""===t?e:e.filter((e=>{var s;return(null!==(s=e.name)&&void 0!==s?s:e.id).toLowerCase().includes(t.toLowerCase())}))}render(){if(!this.showStageList)return;const t={meeting:this.meeting,view:this.view,t:this.t,config:this.config,states:p.s,size:this.size,iconPack:this.iconPack};return(0,i.h)(i.H,null,(0,i.h)("div",{class:"participants-container"},(0,i.h)("div",{class:"heading-count",part:"heading-count"},this.t("participants")," (",this.participants.length,")"),(0,i.h)("ul",{class:"participants",part:"participants"},this.participants.map((e=>(0,i.h)(o.R,{element:"dyte-participant",defaults:t,props:{role:"listitem",participant:e},childProps:Object.assign(Object.assign({},t),{participant:e,size:this.size}),deepProps:!0}))),0===this.participants.length&&(0,i.h)("div",{class:"empty-message",part:"empty-message"},this.search.length>0?this.t("search.could_not_find"):this.t("search.empty")))))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};c.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column;font-size:14px}.participants-container{margin-bottom:var(--dyte-space-4, 16px);width:100%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-message{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}dyte-participant{width:100%}"},67341:(t,e,s)=>{s.d(e,{R:()=>p,l:()=>o});var i=s(37176);const a=({element:t,size:e,states:s={},config:i={}})=>{let a=[];const r=null==i?void 0:i.root[t],n=t=>{a.push(t),"string"==typeof e&&a.push(`${t}.${e}`)};if(n(t),"object"==typeof r&&!Array.isArray(r)&&null!==r){const{state:e,states:i}=r;let a=t,o=[];if(Array.isArray(i)){o=i.filter((t=>s[t])),o.sort();for(const t of o)n(`${a}.${t}`);if(o.length>1){n([a,...o].join("."))}}if("string"==typeof e){const i=`${t}[${e}=${s[e]}]`;n(i);for(const t of o)n(`${i}.${t}`);if(o.length>1){n([i,...o].join("."))}}}return a},r=({selectors:t,root:e})=>{if(!e||!Array.isArray(t))return[];let s=[];for(const i of t){const t=e[i];if(Array.isArray(t))s=[...t];else if(t){if(t.children&&(s=[...t.children]),Array.isArray(t.remove))for(const e of t.remove)s=s.filter((t=>"string"==typeof t?t!==e:!Array.isArray(t)||t[0]!==e));if(t.addBefore)for(const[e,i]of Object.entries(t.addBefore)){const t=s.findIndex((t=>"string"==typeof t?t===e:!!Array.isArray(t)&&t[0]===e));t>=0&&s.splice(t,0,...i)}Array.isArray(t.add)&&(s=s.concat(t.add)),Array.isArray(t.prepend)&&(s=t.prepend.concat(s))}}return s},n=({elements:t,defaults:e,props:s={},deepProps:a=!1,elementProps:r={}})=>Array.isArray(t)&&0!==t.length?t.map((t=>(0,i.h)(p,{element:t,defaults:e,props:s,childProps:a&&s,elementProps:r}))):null,o=({element:t,defaults:e,props:s={},elementProps:i={}})=>{var n;const{config:o,size:p,states:c}=e;let l,d={},h=[];Array.isArray(t)?[l,d,...h]=t:l=t;const g=null===(n=null==o?void 0:o.root)||void 0===n?void 0:n[l];null!=g&&"props"in g&&(s=Object.assign(Object.assign({},g.props),s)),s=Object.assign(Object.assign({},s),d),l in i&&(s=Object.assign(Object.assign({},s),i[l]));const f=a({element:l,size:p,states:c,config:o});return r({selectors:f,root:o.root}).length},p=({element:t,defaults:e,childProps:s={},props:o={},onlyChildren:p=!1,asHost:c=!1,deepProps:l=!1,elementProps:d={}},h)=>{var g;const{config:f,size:u,states:m}=e;let y,v={},A=[];Array.isArray(t)?[y,v,...A]=t:y=t;const b=null===(g=null==f?void 0:f.root)||void 0===g?void 0:g[y];null!=b&&"props"in b&&(o=Object.assign(Object.assign({},b.props),o)),o=Object.assign(Object.assign({},o),v),y in d&&(o=Object.assign(Object.assign({},o),d[y]));const L=a({element:y,size:u,states:m,config:f}),j=r({selectors:L,root:f.root});if(p)return(0,i.h)(n,{elements:j,defaults:e,props:s,deepProps:l,elementProps:d});const O=(({selectors:t,styles:e})=>{if(!Array.isArray(t)||null==e)return{};const s={};for(const i of t){const t=e[i];null!=t&&Object.assign(s,t)}return s})({selectors:L,styles:f.styles});if(c)return(0,i.h)(i.H,Object.assign({},e,{style:O},o),(0,i.h)(n,{elements:j,defaults:e,props:s,deepProps:l,elementProps:d}),h,A.map((t=>{if(Array.isArray(t)){const[s,a]=t;return(0,i.h)(s,Object.assign({},e,a))}return t})));if(["dyte-header","dyte-controlbar"].includes(y)&&(o.disableRender=!0),y.startsWith("dyte-"))return(0,i.h)(y,Object.assign({},e,{style:O},o),(0,i.h)(n,{elements:j,defaults:e,props:s,deepProps:l,elementProps:d}),h,A.map((t=>{if(Array.isArray(t)){const[s,a]=t;return(0,i.h)(s,Object.assign({},e,a))}return t})));{const[t,a]=y.split("#");return(0,i.h)(t,Object.assign({id:a,style:O},o),(0,i.h)(n,{elements:j,defaults:e,props:s,deepProps:l,elementProps:d}),h,A.map((t=>{if(Array.isArray(t)){const[s,a]=t;return(0,i.h)(s,Object.assign({},e,a))}return t})))}}}}]);