"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[7508],{47508:(e,t,r)=>{r.r(t),r.d(t,{dyte_debugger_audio:()=>g,dyte_debugger_screenshare:()=>b,dyte_debugger_system:()=>u,dyte_debugger_video:()=>p});var a=r(26786),s=(r(8263),r(1847),r(13297),r(17073)),i=r(13773);r(55055),r(2174),r(43362);function o({stats:e}){if(!e||!e.length)return null;let t="Good";const r=e.map((e=>e.verdict));return r.includes("Poor")?t="Poor":r.includes("Average")&&(t="Average"),t}function d({packetLossPercentage:e}){let t="Good";return e>4?t="Poor":e>=1&&e<=4&&(t="Average"),t}function n({jitterInMS:e}){let t="Good";return e>100?t="Poor":e>=50&&e<=100&&(t="Average"),t}function c({bitrate:e}){let t="Good";return 0===Math.round(e/1024)&&(t="Poor"),t}function l({batteryLevelPercentage:e}){let t="Good";return e<20?t="Poor":e<50&&(t="Average"),t}function h({charging:e,dischargingTimeInSeconds:t,batteryLevelPercentage:r}){return r<20?"Poor":e?"Good":t<1800?"Poor":"Average"}const g=class{constructor(e){(0,a.r)(this,e),this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:r})=>{"audio"!==e||t||(this.audioProducerScoreStats=r)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getAudioDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.audioUpdateListener=()=>{this.meeting.self.audioEnabled||(this.audioProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,i.u)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,r=[];r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:c({bitrate:t.bitrate,kind:"audio",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:d({packetLossPercentage:t.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:n({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"audio",isScreenshare:!1,stats:r})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("audioUpdate",this.audioUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("audioUpdate",this.audioUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.audio.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.audioProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.audioEnabled?(0,a.h)("span",null,this.t("debugger.audio.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.audio.messages.enable_media"))),this.isNetworkOpen&&!!this.audioProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.audioProducerFormattedStats.map((e=>{var t,r;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(r=e.verdict)||void 0===r?void 0:r.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};g.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-audio{display:flex;flex-direction:column}";const b=class{constructor(e){(0,a.r)(this,e),this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:r})=>{"video"===e&&t&&(this.videoProducerScoreStats=r),"audio"===e&&t&&(this.audioProducerScoreStats=r)},this.screenShareUpdateListener=()=>{this.meeting.self.screenShareEnabled||(this.videoProducerScoreStats=null,this.audioProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,i.u)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,r=[];r.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:c({bitrate:t.bitrate,kind:"video",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:d({packetLossPercentage:t.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:n({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"video",isScreenshare:!1,stats:r})}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,r=[];r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:c({bitrate:t.bitrate,kind:"audio",isScreenshare:!0})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:d({packetLossPercentage:t.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:n({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=r}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("screenShareUpdate",this.screenShareUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("screenShareUpdate",this.screenShareUpdateListener))}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.screenshare.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.screenShareEnabled?(0,a.h)("span",null,this.t("debugger.screenshare.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.screenshare.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,r;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(r=e.verdict)||void 0===r?void 0:r.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};b.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}";const u=class{constructor(e){(0,a.r)(this,e),this.batteryUpdateListener=()=>{const e=Math.round(100*this.battery.level),t=[];t.push({name:this.t("debugger.system.battery.level.label"),value:`${e}%`,description:this.t("debugger.system.battery.level.description"),verdict:l({batteryLevelPercentage:e})}),t.push({name:this.t("debugger.system.battery.charging.label"),value:`${this.battery.charging?this.t("debugger.system.battery.charging.is_charging"):this.t("debugger.system.battery.charging.is_not_charging")}`,description:this.t("debugger.system.battery.charging.description"),verdict:h({batteryLevelPercentage:e,chargingTimeInSeconds:this.battery.chargingTime,dischargingTimeInSeconds:this.battery.dischargingTime,charging:this.battery.charging})}),this.batterySectionHealth=function({stats:e}){if(!e||!e.length)return null;let t="Good";const r=e.map((e=>e.verdict));return r.includes("Poor")?t="Poor":r.includes("Average")&&(t="Average"),t}({stats:t}),this.batteryFormattedStats=t},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,i.u)(),this.isBatterySectionOpen=!0,this.batterySectionHealth=null,this.battery=null,this.batteryFormattedStats=[]}toggleSection(e){"battery"===e&&(this.isBatterySectionOpen=!this.isBatterySectionOpen)}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&this.battery&&(this.battery.removeEventListener("levelchange",this.batteryUpdateListener),this.battery.removeEventListener("chargingchange",this.batteryUpdateListener))}async meetingChanged(e){e&&void 0!==navigator.getBattery&&(this.battery=await navigator.getBattery(),this.battery.addEventListener("levelchange",this.batteryUpdateListener),this.battery.addEventListener("chargingchange",this.batteryUpdateListener),this.batteryUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header",onClick:()=>this.toggleSection("battery")},(0,a.h)("span",null,this.t("debugger.system.sections.battery")),this.batterySectionHealth&&(0,a.h)("span",{class:`status ${null===(e=this.batterySectionHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.batterySectionHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isBatterySectionOpen&&!!this.batteryFormattedStats.length&&(0,a.h)("div",{class:"section-body battery-table"},this.batteryFormattedStats.map((e=>{var t,r;return(0,a.h)("div",{class:"battery-row"},(0,a.h)("div",{class:"battery-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"battery-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(r=e.verdict)||void 0===r?void 0:r.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{meeting:["meetingChanged"]}}};u.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";const p=class{constructor(e){(0,a.r)(this,e),this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:r})=>{"video"!==e||t||(this.videoProducerScoreStats=r)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getVideoDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.videoUpdateListener=()=>{this.meeting.self.videoEnabled||(this.videoProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,i.u)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,r=[];r.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:c({bitrate:t.bitrate,kind:"video",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:d({packetLossPercentage:t.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:n({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"video",isScreenshare:!1,stats:r})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("videoUpdate",this.videoUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("videoUpdate",this.videoUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.video.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.videoEnabled?(0,a.h)("span",null,this.t("debugger.video.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.video.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,r;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(r=e.verdict)||void 0===r?void 0:r.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}"}}]);