"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[4311],{14311:(t,i,e)=>{e.r(i),e.d(i,{dyte_participant:()=>h});var s=e(37176),n=e(68753),a=e(74710),r=e(67341),o=e(22906),c=e(39571),d=e(9367);e(78410),e(60804);const h=class{constructor(t){(0,s.r)(this,t),this.dyteSendNotification=(0,s.c)(this,"dyteSendNotification",7),this.pinnedListener=({isPinned:t})=>{this.isPinned=t},this.stageListener=({stageStatus:t})=>{this.isOnStage="ON_STAGE"===t},this.inviteToStageToggle=async()=>{const t=this.participant,{stage:i}=this.meeting;"ACCEPTED_TO_JOIN_STAGE"!==t.stageStatus?(this.isOnStage?(t.isPinned&&t.unpin(),await i.kick([t.userId])):(await i.grantAccess([t.userId]),this.dyteSendNotification.emit({message:`${t.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-invite-${t.id}`})),this.isOnStage="ON_STAGE"===t.stageStatus):this.dyteSendNotification.emit({message:`${t.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-${t.id}`})},this.meeting=void 0,this.view="sidebar",this.participant=void 0,this.iconPack=n.d,this.t=(0,a.u)(),this.config=d.d,this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant)}disconnectedCallback(){null!=this.participant&&null!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("stageStatusUpdate",this.stageListener))}meetingChanged(t){if(null!=t){const{self:i}=t;this.canDisableParticipantAudio=i.permissions.canAllowParticipantAudio||i.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=i.permissions.canAllowParticipantVideo||i.permissions.canDisableParticipantVideo,this.canKickParticipant=i.permissions.kickParticipant,this.canPinParticipant=i.permissions.pinParticipant,this.canAllowParticipantOnStage=i.permissions.acceptPresentRequests}}participantChanged(t){if(null!=t){if(this.audioEnabled=t.audioEnabled,this.videoEnabled=t.videoEnabled,this.isPinned=t.isPinned,this.isOnStage="ON_STAGE"===t.stageStatus,this.audioUpdateListener=({audioEnabled:t})=>{this.audioEnabled=t},this.videoUpdateListener=({videoEnabled:t})=>{this.videoEnabled=t},null==t.addListener)return;t.addListener("audioUpdate",this.audioUpdateListener),t.addListener("videoUpdate",this.videoUpdateListener),t.addListener("pinned",this.pinnedListener),t.addListener("unpinned",this.pinnedListener),t.addListener("stageStatusUpdate",this.stageListener)}}render(){var t,i,e,n,a,d,h,p,l;const u="AUDIO_ROOM"===(null===(t=this.meeting)||void 0===t?void 0:t.meta.viewType),g=(null===(i=this.meeting)||void 0===i?void 0:i.self.id)===this.participant.id,f=this.canDisableParticipantAudio&&this.audioEnabled||this.canDisableParticipantVideo&&!u||this.canKickParticipant||this.canPinParticipant,y=(0,o.f)((null===(e=this.participant)||void 0===e?void 0:e.name)||""),m=this.isOnStage||["GROUP_CALL","AUDIO_ROOM"].includes(null===(n=this.meeting)||void 0===n?void 0:n.meta.viewType),P={meeting:this.meeting,size:"sm",states:c.s,config:this.config,iconPack:this.iconPack,t:this.t};return(0,s.h)(s.H,null,(0,s.h)("div",{class:"left"},(0,s.h)("dyte-avatar",{participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,s.h)("p",{class:"name",title:y},(0,o.s)(y,16)," ",(null===(a=this.meeting)||void 0===a?void 0:a.self.id)===(null===(d=this.participant)||void 0===d?void 0:d.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,s.h)("div",{class:"right"},m&&(0,s.h)("dyte-icon",{class:{red:!this.audioEnabled},iconPack:this.iconPack,t:this.t,icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),m&&!u&&(0,s.h)("dyte-icon",{class:{red:!this.videoEnabled},iconPack:this.iconPack,t:this.t,icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),(f||(0,r.l)({element:"dyte-participant",defaults:P,childProps:{participant:this.participant}})>0)&&(0,s.h)("dyte-menu",{iconPack:this.iconPack,t:this.t},(0,s.h)("dyte-button",{variant:"ghost",kind:"icon",slot:"trigger",iconPack:this.iconPack,t:this.t},(0,s.h)("dyte-icon",{class:"more",icon:this.iconPack.more_vertical})),(0,s.h)("dyte-menu-list",{iconPack:this.iconPack,t:this.t},this.canPinParticipant&&m&&(0,s.h)("dyte-menu-item",{onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},(0,s.h)("dyte-icon",{icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start",iconPack:this.iconPack,t:this.t}),this.isPinned?this.t("unpin"):this.t("pin")),this.canDisableParticipantAudio&&m&&this.audioEnabled&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},(0,s.h)("dyte-icon",{icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&m&&this.videoEnabled&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},(0,s.h)("dyte-icon",{icon:this.iconPack.video_off,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("participants.turn_off_video")),"WEBINAR"===(null===(h=this.meeting)||void 0===h?void 0:h.meta.viewType)&&this.canAllowParticipantOnStage&&(null===(p=this.participant)||void 0===p?void 0:p.id)!==(null===(l=this.meeting)||void 0===l?void 0:l.self.id)&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:this.inviteToStageToggle},(0,s.h)("dyte-icon",{iconPack:this.iconPack,t:this.t,icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!g&&this.canKickParticipant&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var t,i;null===(t=this.meeting)||void 0===t||t.participants.kick(null===(i=this.participant)||void 0===i?void 0:i.id)}},(0,s.h)("dyte-icon",{icon:this.iconPack.dismiss,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("kick")),(0,s.h)("slot",null,(0,s.h)(r.R,{element:"dyte-participant",defaults:P,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0}))))))}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};h.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}"},67341:(t,i,e)=>{e.d(i,{R:()=>c,l:()=>o});var s=e(37176);const n=({element:t,size:i,states:e={},config:s={}})=>{let n=[];const a=null==s?void 0:s.root[t],r=t=>{n.push(t),"string"==typeof i&&n.push(`${t}.${i}`)};if(r(t),"object"==typeof a&&!Array.isArray(a)&&null!==a){const{state:i,states:s}=a;let n=t,o=[];if(Array.isArray(s)){o=s.filter((t=>e[t])),o.sort();for(const t of o)r(`${n}.${t}`);if(o.length>1){r([n,...o].join("."))}}if("string"==typeof i){const s=`${t}[${i}=${e[i]}]`;r(s);for(const t of o)r(`${s}.${t}`);if(o.length>1){r([s,...o].join("."))}}}return n},a=({selectors:t,root:i})=>{if(!i||!Array.isArray(t))return[];let e=[];for(const s of t){const t=i[s];if(Array.isArray(t))e=[...t];else if(t){if(t.children&&(e=[...t.children]),Array.isArray(t.remove))for(const i of t.remove)e=e.filter((t=>"string"==typeof t?t!==i:!Array.isArray(t)||t[0]!==i));if(t.addBefore)for(const[i,s]of Object.entries(t.addBefore)){const t=e.findIndex((t=>"string"==typeof t?t===i:!!Array.isArray(t)&&t[0]===i));t>=0&&e.splice(t,0,...s)}Array.isArray(t.add)&&(e=e.concat(t.add)),Array.isArray(t.prepend)&&(e=t.prepend.concat(e))}}return e},r=({elements:t,defaults:i,props:e={},deepProps:n=!1,elementProps:a={}})=>Array.isArray(t)&&0!==t.length?t.map((t=>(0,s.h)(c,{element:t,defaults:i,props:e,childProps:n&&e,elementProps:a}))):null,o=({element:t,defaults:i,props:e={},elementProps:s={}})=>{var r;const{config:o,size:c,states:d}=i;let h,p={},l=[];Array.isArray(t)?[h,p,...l]=t:h=t;const u=null===(r=null==o?void 0:o.root)||void 0===r?void 0:r[h];null!=u&&"props"in u&&(e=Object.assign(Object.assign({},u.props),e)),e=Object.assign(Object.assign({},e),p),h in s&&(e=Object.assign(Object.assign({},e),s[h]));const g=n({element:h,size:c,states:d,config:o});return a({selectors:g,root:o.root}).length},c=({element:t,defaults:i,childProps:e={},props:o={},onlyChildren:c=!1,asHost:d=!1,deepProps:h=!1,elementProps:p={}},l)=>{var u;const{config:g,size:f,states:y}=i;let m,P={},v=[];Array.isArray(t)?[m,P,...v]=t:m=t;const k=null===(u=null==g?void 0:g.root)||void 0===u?void 0:u[m];null!=k&&"props"in k&&(o=Object.assign(Object.assign({},k.props),o)),o=Object.assign(Object.assign({},o),P),m in p&&(o=Object.assign(Object.assign({},o),p[m]));const b=n({element:m,size:f,states:y,config:g}),A=a({selectors:b,root:g.root});if(c)return(0,s.h)(r,{elements:A,defaults:i,props:e,deepProps:h,elementProps:p});const O=(({selectors:t,styles:i})=>{if(!Array.isArray(t)||null==i)return{};const e={};for(const s of t){const t=i[s];null!=t&&Object.assign(e,t)}return e})({selectors:b,styles:g.styles});if(d)return(0,s.h)(s.H,Object.assign({},i,{style:O},o),(0,s.h)(r,{elements:A,defaults:i,props:e,deepProps:h,elementProps:p}),l,v.map((t=>{if(Array.isArray(t)){const[e,n]=t;return(0,s.h)(e,Object.assign({},i,n))}return t})));if(["dyte-header","dyte-controlbar"].includes(m)&&(o.disableRender=!0),m.startsWith("dyte-"))return(0,s.h)(m,Object.assign({},i,{style:O},o),(0,s.h)(r,{elements:A,defaults:i,props:e,deepProps:h,elementProps:p}),l,v.map((t=>{if(Array.isArray(t)){const[e,n]=t;return(0,s.h)(e,Object.assign({},i,n))}return t})));{const[t,n]=m.split("#");return(0,s.h)(t,Object.assign({id:n,style:O},o),(0,s.h)(r,{elements:A,defaults:i,props:e,deepProps:h,elementProps:p}),l,v.map((t=>{if(Array.isArray(t)){const[e,n]=t;return(0,s.h)(e,Object.assign({},i,n))}return t})))}}},39571:(t,i,e)=>{e.d(i,{o:()=>d,s:()=>c});var s=e(37176);const n=t=>!("isConnected"in t)||t.isConnected,a=((t,i)=>{let e;return(...s)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,t(...s)}),i)}})((t=>{for(let i of t.keys())t.set(i,t.get(i).filter(n))}),2e3),r=t=>"function"==typeof t?t():t,o=(t,i)=>{const e=t.indexOf(i);e>=0&&(t[e]=t[t.length-1],t.length--)},{state:c,onChange:d}=((t,i)=>{const e=((t,i=((t,i)=>t!==i))=>{const e=r(t);let s=new Map(Object.entries(null!=e?e:{}));const n={dispose:[],get:[],set:[],reset:[]},a=()=>{var i;s=new Map(Object.entries(null!==(i=r(t))&&void 0!==i?i:{})),n.reset.forEach((t=>t()))},c=t=>(n.get.forEach((i=>i(t))),s.get(t)),d=(t,e)=>{const a=s.get(t);i(e,a,t)&&(s.set(t,e),n.set.forEach((i=>i(t,e,a))))},h="undefined"==typeof Proxy?{}:new Proxy(e,{get:(t,i)=>c(i),ownKeys:t=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,i)=>s.has(i),set:(t,i,e)=>(d(i,e),!0)}),p=(t,i)=>(n[t].push(i),()=>{o(n[t],i)});return{state:h,get:c,set:d,on:p,onChange:(i,e)=>{const s=p("set",((t,s)=>{t===i&&e(s)})),n=p("reset",(()=>e(r(t)[i])));return()=>{s(),n()}},use:(...t)=>{const i=t.reduce(((t,i)=>(i.set&&t.push(p("set",i.set)),i.get&&t.push(p("get",i.get)),i.reset&&t.push(p("reset",i.reset)),i.dispose&&t.push(p("dispose",i.dispose)),t)),[]);return()=>i.forEach((t=>t()))},dispose:()=>{n.dispose.forEach((t=>t())),a()},reset:a,forceUpdate:t=>{const i=s.get(t);n.set.forEach((e=>e(t,i,i)))}}})(t,i);return e.use((()=>{if("function"!=typeof s.a)return{};const t=new Map;return{dispose:()=>t.clear(),get:i=>{const e=(0,s.a)();e&&((t,i,e)=>{const s=t.get(i);s?s.includes(e)||s.push(e):t.set(i,[e])})(t,i,e)},set:i=>{const e=t.get(i);e&&t.set(i,e.filter(s.f)),a(t)},reset:()=>{t.forEach((t=>t.forEach(s.f))),a(t)}}})()),e})({})},22906:(t,i,e)=>{e.d(i,{a:()=>a,f:()=>r,g:()=>o,h:()=>n,s:()=>s});const s=(t,i=20)=>null==t?"":t.length>i?`${t.substring(0,i)}...`:t,n=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),a=t=>(null==t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t,r=t=>""===(t=null==t?void 0:t.trim())?"Participant":t;function o(t,i=2){return t.replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/g,"").trim().split(/\s+/).slice(0,i).map((t=>t.charAt(0))).join("").toUpperCase()}}}]);