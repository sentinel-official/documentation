"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[5755],{35755:(t,e,i)=>{i.r(e),i.d(e,{dyte_virtualized_participant_list:()=>r});var n=i(26786),s=i(91364);i(49583);const r=class{constructor(t){(0,n.r)(this,t),this.containerHeight=0,this.lastScrollTop=0,this.recalculatePositioning=()=>{this.updateContainerHeight(),requestAnimationFrame((()=>{this.updateItemHeight()}))},this.updateContainerHeight=()=>{this.el.querySelector(".virtual-list-container").clientHeight&&(requestAnimationFrame((()=>{this.updateItemHeight()})),this.containerHeight=this.el.querySelector(".virtual-list-container").clientHeight,this.updateVisibleRange())},this.onScroll=(0,s.d)((()=>{const t=this.el.querySelector(".virtual-list-container").scrollTop;t>this.lastScrollTop&&this.visibleEnd===this.items.length||(this.lastScrollTop=t,this.updateVisibleRange())})),this.items=[],this.renderItem=void 0,this.itemHeight=55,this.bufferedItemsCount=5,this.emptyListElement=null,this.visibleStart=0,this.visibleEnd=0}itemsChanged(){this.recalculatePositioning()}componentDidLoad(){this.recalculatePositioning(),this.el.querySelector(".virtual-list-container").addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.recalculatePositioning)}componentDidUpdate(){this.updateItemHeight()}disconnectedCallback(){this.el.querySelector(".virtual-list-container").removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.recalculatePositioning)}updateVisibleRange(){const t=this.el.querySelector(".virtual-list-container").scrollTop,e=Math.floor(t/this.itemHeight),i=Math.ceil(this.containerHeight/this.itemHeight),n=Math.min(this.items.length,e+i+this.bufferedItemsCount);this.visibleStart=e,this.visibleEnd=n,this.el.querySelector(".virtual-list-container").scrollTop=this.lastScrollTop}updateItemHeight(){const t=this.el.querySelector(".virtual-list-item");if(t){const e=t.style.height;t.style.height="auto";const i=t.getBoundingClientRect().height;e&&(t.style.height=e),i&&Math.floor(i)!==Math.floor(this.itemHeight)&&(this.itemHeight=i)}}renderItems(){return this.items.slice(this.visibleStart,this.visibleEnd).map(((t,e)=>{const i=this.visibleStart+e;return(0,n.h)("div",{class:"virtual-list-item",key:t.id,style:{position:"absolute",top:i*this.itemHeight+"px",height:`${this.itemHeight}px`,width:"100%"}},this.renderItem(t,i))}))}render(){var t;const e=this.items.length*this.itemHeight;return(0,n.h)("div",{class:"virtual-list-container",style:{position:"relative",height:"100%",overflowX:"hidden",overflowY:"auto"}},(0,n.h)("div",{style:{height:`${e}px`,position:"relative"}},(null===(t=this.items)||void 0===t?void 0:t.length)?this.renderItems():this.emptyListElement),(0,n.h)("div",{style:{height:`${this.itemHeight}px`}}))}get el(){return(0,n.a)(this)}static get watchers(){return{items:["itemsChanged"]}}};r.style=":host{height:100%;width:100%}"},91364:(t,e,i)=>{i.d(e,{d:()=>y});var n=i(49583),s="[object Symbol]";var r=/\s/;var o=/^\s+/;function l(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}(t)+1).replace(o,""):t}var h=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||(0,n.i)(t)&&(0,n.b)(t)==s}(t))return h;if((0,n.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,n.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=l(t);var i=u.test(t);return i||c.test(t)?d(t.slice(2),i?2:8):a.test(t)?h:+t}var m=function(){return n.r.Date.now()},g="Expected a function",f=Math.max,p=Math.min;function y(t,e,i){var s,r,o,l,h,a,u=0,c=!1,d=!1,y=!0;if("function"!=typeof t)throw new TypeError(g);function b(e){var i=s,n=r;return s=r=void 0,u=e,l=t.apply(n,i)}function H(t){var i=t-a;return void 0===a||i>=e||i<0||d&&t-u>=o}function S(){var t=m();if(H(t))return w(t);h=setTimeout(S,function(t){var i=e-(t-a);return d?p(i,o-(t-u)):i}(t))}function w(t){return h=void 0,y&&s?b(t):(s=r=void 0,l)}function T(){var t=m(),i=H(t);if(s=arguments,r=this,a=t,i){if(void 0===h)return function(t){return u=t,h=setTimeout(S,e),c?b(t):l}(a);if(d)return clearTimeout(h),h=setTimeout(S,e),b(a)}return void 0===h&&(h=setTimeout(S,e)),l}return e=v(e)||0,(0,n.a)(i)&&(c=!!i.leading,o=(d="maxWait"in i)?f(v(i.maxWait)||0,e):o,y="trailing"in i?!!i.trailing:y),T.cancel=function(){void 0!==h&&clearTimeout(h),u=0,s=a=r=h=void 0},T.flush=function(){return void 0===h?l:w(m())},T}}}]);