"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[9822],{1821:(i,t,e)=>{e.d(t,{a:()=>a,f:()=>o,g:()=>d,h:()=>n,s:()=>s});const s=(i,t=20)=>null==i?"":i.length>t?`${i.substring(0,t)}...`:i,n=i=>/^\p{Emoji}+$/u.test(i)&&!/^\d+$/.test(i),a=i=>(null==i?void 0:i.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":i,o=i=>""===(i=null==i?void 0:i.trim())?"Participant":i,r=new RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),c=new RegExp(/\s+/);function d(i,t=2){return i.replace(r,"").trim().split(c).slice(0,t).map((i=>i.charAt(0))).join("").toUpperCase()}},16890:(i,t,e)=>{e.d(t,{R:()=>c,l:()=>r});var s=e(26786);const n=({element:i,size:t,states:e={},config:s={}})=>{let n=[];const a=null==s?void 0:s.root[i],o=i=>{n.push(i),"string"==typeof t&&n.push(`${i}.${t}`)};if(o(i),"object"==typeof a&&!Array.isArray(a)&&null!==a){const{state:t,states:s}=a;let n=i,r=[];if(Array.isArray(s)){r=s.filter((i=>e[i])),r.sort();for(const i of r)o(`${n}.${i}`);if(r.length>1){o([n,...r].join("."))}}if("string"==typeof t){const s=`${i}[${t}=${e[t]}]`;o(s);for(const i of r)o(`${s}.${i}`);if(r.length>1){o([s,...r].join("."))}}}return n},a=({selectors:i,root:t})=>{if(!t||!Array.isArray(i))return[];let e=[];for(const s of i){const i=t[s];if(Array.isArray(i))e=[...i];else if(i){if(i.children&&(e=[...i.children]),Array.isArray(i.remove))for(const t of i.remove)e=e.filter((i=>"string"==typeof i?i!==t:!Array.isArray(i)||i[0]!==t));if(i.addBefore)for(const[t,s]of Object.entries(i.addBefore)){const i=e.findIndex((i=>"string"==typeof i?i===t:!!Array.isArray(i)&&i[0]===t));i>=0&&e.splice(i,0,...s)}Array.isArray(i.add)&&(e=e.concat(i.add)),Array.isArray(i.prepend)&&(e=i.prepend.concat(e))}}return e},o=({elements:i,defaults:t,props:e={},deepProps:n=!1,elementProps:a={}})=>Array.isArray(i)&&0!==i.length?i.map((i=>(0,s.h)(c,{element:i,defaults:t,props:e,childProps:n&&e,elementProps:a}))):null,r=({element:i,defaults:t,props:e={},elementProps:s={}})=>{var o;const{config:r,size:c,states:d}=t;let h,l={},p=[];Array.isArray(i)?[h,l,...p]=i:h=i;const u=null===(o=null==r?void 0:r.root)||void 0===o?void 0:o[h];null!=u&&"props"in u&&(e=Object.assign(Object.assign({},u.props),e)),e=Object.assign(Object.assign({},e),l),h in s&&(e=Object.assign(Object.assign({},e),s[h]));const g=n({element:h,size:c,states:d,config:r});return a({selectors:g,root:r.root}).length},c=({element:i,defaults:t,childProps:e={},props:r={},onlyChildren:c=!1,asHost:d=!1,deepProps:h=!1,elementProps:l={}},p)=>{var u;const{config:g,size:m,states:v}=t;let f,y={},P=[];Array.isArray(i)?[f,y,...P]=i:f=i;const k=null===(u=null==g?void 0:g.root)||void 0===u?void 0:u[f];null!=k&&"props"in k&&(r=Object.assign(Object.assign({},k.props),r)),r=Object.assign(Object.assign({},r),y),f in l&&(r=Object.assign(Object.assign({},r),l[f]));const b=n({element:f,size:m,states:v,config:g}),A=a({selectors:b,root:g.root});if(c)return(0,s.h)(o,{elements:A,defaults:t,props:e,deepProps:h,elementProps:l});const O=(({selectors:i,styles:t})=>{if(!Array.isArray(i)||null==t)return{};const e={};for(const s of i){const i=t[s];null!=i&&Object.assign(e,i)}return e})({selectors:b,styles:g.styles});if(d)return(0,s.h)(s.H,Object.assign({},t,{style:O},r),(0,s.h)(o,{elements:A,defaults:t,props:e,deepProps:h,elementProps:l}),p,P.map((i=>{if(Array.isArray(i)){const[e,n]=i;return(0,s.h)(e,Object.assign({},t,n))}return i})));if(["dyte-header","dyte-controlbar"].includes(f)&&(r.disableRender=!0),f.startsWith("dyte-"))return(0,s.h)(f,Object.assign({},t,{style:O},r),(0,s.h)(o,{elements:A,defaults:t,props:e,deepProps:h,elementProps:l}),p,P.map((i=>{if(Array.isArray(i)){const[e,n]=i;return(0,s.h)(e,Object.assign({},t,n))}return i})));{const[i,n]=f.split("#");return(0,s.h)(i,Object.assign({id:n,style:O},r),(0,s.h)(o,{elements:A,defaults:t,props:e,deepProps:h,elementProps:l}),p,P.map((i=>{if(Array.isArray(i)){const[e,n]=i;return(0,s.h)(e,Object.assign({},t,n))}return i})))}}},39822:(i,t,e)=>{e.r(t),e.d(t,{dyte_participant:()=>p});var s=e(26786),n=e(85621),a=e(33592),o=e(16890),r=e(1821),c=e(8263),d=(e(8424),e(50975)),h=(e(35189),e(7641)),l=(e(55055),e(44983));e(41117);const p=class{constructor(i){(0,s.r)(this,i),this.dyteSendNotification=(0,s.c)(this,"dyteSendNotification",7),this.pinnedListener=({isPinned:i})=>{this.isPinned=i},this.toggleTileListener=({hidden:i})=>{this.isHidden=i},this.stageListener=({stageStatus:i})=>{this.isOnStage="ON_STAGE"===i},this.permissionsUpdateListener=()=>{this.meetingChanged(this.meeting)},this.inviteToStageToggle=async()=>{const i=this.participant,{stage:t}=this.meeting;"ACCEPTED_TO_JOIN_STAGE"!==i.stageStatus?(this.isOnStage?(i.isPinned&&i.unpin(),await t.kick([i.userId])):(await t.grantAccess([i.userId]),this.dyteSendNotification.emit({message:`${i.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-invite-${i.id}`})),this.isOnStage="ON_STAGE"===i.stageStatus):this.dyteSendNotification.emit({message:`${i.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-${i.id}`})},this.handleOutsideClick=i=>{!i.composedPath().includes(this.host)&&this.menuOpen&&(this.menuOpen=!1)},this.update=()=>{const i=this.host.shadowRoot.getElementById("trigger"),t=this.host.shadowRoot.getElementById("menu-list");(0,l.c)(i,t,{placement:"bottom-end",middleware:[(0,l.a)({allowedPlacements:["bottom-end","top-end"],alignment:"end"}),(0,l.o)(4),(0,l.s)({padding:8}),(0,l.h)()]}).then((({x:i,y:e,placement:s})=>{let n=null;n="bottom-end"===s?{right:`${i}px`,top:`${e}px`}:{right:`${i}px`,bottom:`${e}px`},Object.assign(t.style,n)}))},this.onMenuToggle=()=>{this.menuOpen=!this.menuOpen,this.menuOpen&&this.update()},this.meeting=void 0,this.view="sidebar",this.participant=void 0,this.iconPack=n.d,this.t=(0,a.u)(),this.config=d.d,this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isHidden=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1,this.menuOpen=!1}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant),document.addEventListener("click",this.handleOutsideClick)}disconnectedCallback(){var i;document.removeEventListener("click",this.handleOutsideClick),null===(i=this.meeting)||void 0===i||i.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener),null!=this.participant&&null!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("stageStatusUpdate",this.stageListener),this.participant.removeListener("toggleTile",this.toggleTileListener))}meetingChanged(i){var t,e,s,n,a,o,r;if(null!=i){const{self:c}=i;this.canDisableParticipantAudio=c.permissions.canAllowParticipantAudio||c.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=c.permissions.canAllowParticipantVideo||c.permissions.canDisableParticipantVideo,this.canKickParticipant=c.permissions.kickParticipant&&!0!==(null===(t=this.meeting)||void 0===t?void 0:t.__internals__.features.hasFeature(h.F.DISABLE_KICKING))&&(!0!==(null===(e=this.meeting)||void 0===e?void 0:e.__internals__.features.hasFeature(h.F.ADMIN_CANTREMOVE_ADMIN))||"webinar_admin"!==(null===(s=this.participant)||void 0===s?void 0:s.presetName)),this.canPinParticipant=c.permissions.pinParticipant,this.canAllowParticipantOnStage=c.permissions.acceptStageRequests&&c.permissions.stageEnabled&&(!0!==(null===(n=this.meeting)||void 0===n?void 0:n.__internals__.features.hasFeature(h.F.ADMIN_CANTREMOVE_ADMIN))||"webinar_admin"!==(null===(a=this.participant)||void 0===a?void 0:a.presetName))&&(!0!==(null===(o=this.meeting)||void 0===o?void 0:o.__internals__.features.hasFeature(h.F.CANTINVITE_VIEWER))||"webinar_viewer"!==(null===(r=this.participant)||void 0===r?void 0:r.presetName)),i.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)}}participantChanged(i){var t;if(null!=i){if(this.audioEnabled=i.audioEnabled,this.videoEnabled=i.videoEnabled,this.isPinned=i.isPinned,this.isHidden=null!==(t=i.hidden)&&void 0!==t&&t,this.isOnStage="ON_STAGE"===i.stageStatus,this.audioUpdateListener=({audioEnabled:i})=>{this.audioEnabled=i},this.videoUpdateListener=({videoEnabled:i})=>{this.videoEnabled=i},null==i.addListener)return;i.addListener("audioUpdate",this.audioUpdateListener),i.addListener("videoUpdate",this.videoUpdateListener),i.addListener("pinned",this.pinnedListener),i.addListener("unpinned",this.pinnedListener),i.addListener("stageStatusUpdate",this.stageListener),this.participant.addListener("toggleTile",this.toggleTileListener)}}render(){var i,t,e,n,a,d,h,l,p;const u="AUDIO_ROOM"===(null===(i=this.meeting)||void 0===i?void 0:i.meta.viewType),g=(null===(t=this.meeting)||void 0===t?void 0:t.self.id)===this.participant.id,m=this.canDisableParticipantAudio&&this.audioEnabled||this.canDisableParticipantVideo&&this.videoEnabled&&!u||this.canKickParticipant||this.canPinParticipant&&this.isOnStage||this.canAllowParticipantOnStage,v=(0,r.f)((null===(e=this.participant)||void 0===e?void 0:e.name)||""),f=this.isOnStage||["GROUP_CALL","AUDIO_ROOM"].includes(null===(n=this.meeting)||void 0===n?void 0:n.meta.viewType),y={meeting:this.meeting,size:"sm",states:c.s,config:this.config,iconPack:this.iconPack,t:this.t};return(0,s.h)(s.H,null,(0,s.h)("div",{class:"left",key:null===(a=this.participant)||void 0===a?void 0:a.id},(0,s.h)("dyte-avatar",{participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,s.h)("p",{class:"name",title:v},(0,r.s)(v,16)," ",(null===(d=this.meeting)||void 0===d?void 0:d.self.id)===(null===(h=this.participant)||void 0===h?void 0:h.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,s.h)("div",{class:"right"},f&&(0,s.h)("dyte-icon",{class:{red:!this.audioEnabled},iconPack:this.iconPack,t:this.t,icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),f&&!u&&(0,s.h)("dyte-icon",{class:{red:!this.videoEnabled},iconPack:this.iconPack,t:this.t,icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),(m||(0,o.l)({element:"dyte-participant",defaults:y,childProps:{participant:this.participant}})>0)&&(0,s.h)("div",{class:"menu"},(0,s.h)("span",{id:"trigger",onClick:this.onMenuToggle},(0,s.h)("dyte-button",{variant:"ghost",kind:"icon",slot:"trigger",iconPack:this.iconPack,t:this.t},(0,s.h)("dyte-icon",{class:"more",icon:this.iconPack.more_vertical}))),(0,s.h)("span",{id:"menu-list"},this.menuOpen&&(0,s.h)("dyte-menu-list",{iconPack:this.iconPack,t:this.t},this.canPinParticipant&&f&&!u&&(0,s.h)("dyte-menu-item",{onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},(0,s.h)("dyte-icon",{icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start",iconPack:this.iconPack,t:this.t}),this.isPinned?this.t("unpin"):this.t("pin")),g&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.isHidden?this.participant.show():this.participant.hide()}},(0,s.h)("dyte-icon",{icon:this.isHidden?this.iconPack.minimize:this.iconPack.maximize,slot:"start"}),this.meeting.self.hidden?this.t("maximize"):this.t("minimize")),this.canDisableParticipantAudio&&f&&this.audioEnabled&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},(0,s.h)("dyte-icon",{icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&f&&this.videoEnabled&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},(0,s.h)("dyte-icon",{icon:this.iconPack.video_off,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("participants.turn_off_video")),this.canAllowParticipantOnStage&&(null===(l=this.participant)||void 0===l?void 0:l.id)!==(null===(p=this.meeting)||void 0===p?void 0:p.self.id)&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:this.inviteToStageToggle},(0,s.h)("dyte-icon",{iconPack:this.iconPack,t:this.t,icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!g&&this.canKickParticipant&&(0,s.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var i,t;null===(i=this.meeting)||void 0===i||i.participants.kick(null===(t=this.participant)||void 0===t?void 0:t.id)}},(0,s.h)("dyte-icon",{icon:this.iconPack.dismiss,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("kick")),(0,s.h)("slot",null,(0,s.h)(o.R,{element:"dyte-participant",defaults:y,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))))))}get host(){return(0,s.a)(this)}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}.menu{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;top:var(--dyte-space-8, 32px) !important;right:var(--dyte-space-4, 16px) !important;z-index:20}"}}]);