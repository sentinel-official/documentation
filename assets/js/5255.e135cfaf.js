"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[5255],{75722:(t,e,s)=>{s.d(e,{d:()=>m});var a=s(62913),i="[object Symbol]";var r=/\s/;var n=/^\s+/;function o(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}(t)+1).replace(n,""):t}var p=NaN,c=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function h(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||(0,a.i)(t)&&(0,a.b)(t)==i}(t))return p;if((0,a.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,a.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var s=d.test(t);return s||l.test(t)?u(t.slice(2),s?2:8):c.test(t)?p:+t}var g=function(){return a.r.Date.now()},b="Expected a function",f=Math.max,y=Math.min;function m(t,e,s){var i,r,n,o,p,c,d=0,l=!1,u=!1,m=!0;if("function"!=typeof t)throw new TypeError(b);function v(e){var s=i,a=r;return i=r=void 0,d=e,o=t.apply(a,s)}function T(t){var s=t-c;return void 0===c||s>=e||s<0||u&&t-d>=n}function x(){var t=g();if(T(t))return P(t);p=setTimeout(x,function(t){var s=e-(t-c);return u?y(s,n-(t-d)):s}(t))}function P(t){return p=void 0,m&&i?v(t):(i=r=void 0,o)}function I(){var t=g(),s=T(t);if(i=arguments,r=this,c=t,s){if(void 0===p)return function(t){return d=t,p=setTimeout(x,e),l?v(t):o}(c);if(u)return clearTimeout(p),p=setTimeout(x,e),v(c)}return void 0===p&&(p=setTimeout(x,e)),o}return e=h(e)||0,(0,a.a)(s)&&(l=!!s.leading,n=(u="maxWait"in s)?f(h(s.maxWait)||0,e):n,m="trailing"in s?!!s.trailing:m),I.cancel=function(){void 0!==p&&clearTimeout(p),d=0,i=c=r=p=void 0},I.flush=function(){return void 0===p?o:P(g())},I}},75255:(t,e,s)=>{s.r(e),s.d(e,{dyte_participants:()=>d});var a=s(22468),i=s(55471),r=s(1723),n=s(73920),o=s(33077),p=(s(36685),s(54801)),c=(s(46935),s(1873),s(75722));s(11792),s(74664),s(62913);const d=class{constructor(t){(0,a.r)(this,t),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.updateParticipantCountsInTabs=(0,c.d)((()=>{var t;let e=(null===(t=this.meeting.participants.waitlisted)||void 0===t?void 0:t.size)||0,s=0,i=0;this.meeting.participants.joined.toArray().forEach((t=>{"ON_STAGE"===t.stageStatus&&s++,"OFF_STAGE"===t.stageStatus&&i++,"REQUESTED_TO_JOIN_STAGE"===t.stageStatus&&(e++,i++),"ACCEPTED_TO_JOIN_STAGE"===t.stageStatus&&i++})),"ON_STAGE"===this.meeting.self.stageStatus&&s++,"OFF_STAGE"===this.meeting.self.stageStatus&&i++,"REQUESTED_TO_JOIN_STAGE"===this.meeting.self.stageStatus&&(e++,i++),"ACCEPTED_TO_JOIN_STAGE"===this.meeting.self.stageStatus&&i++;const r=[];this.shouldShowRequestsTab()&&r.push({id:"requests",name:(0,a.h)("span",null,this.t("requests"),"\xa0",(0,a.h)("span",{class:`tab-participant-count-badge ${e>0?"requests-pending":""} ${"requests"===this.currentParticipantsTabId?"selected-tab":""}`},e))}),r.push({id:"stage-list",name:(0,a.h)("span",null,this.t("participants"),"\xa0",(0,a.h)("span",{class:"tab-participant-count-badge "+("stage-list"===this.currentParticipantsTabId?"selected-tab":"")},s))}),this.shouldShowViewersTab()&&r.push({id:"viewer-list",name:(0,a.h)("span",null,this.t("viewers"),"\xa0",(0,a.h)("span",{class:"tab-participant-count-badge "+("viewer-list"===this.currentParticipantsTabId?"selected-tab":"")},i))}),this.tabs=r,this.hasRequests=e>0})),this.onSearchInput=t=>{this.search=t.target.value},this.shouldShowViewersTab=()=>{var t,e,s;return null===(s=null===(e=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===e?void 0:e.permissions)||void 0===s?void 0:s.stageEnabled},this.shouldShowRequestsTab=()=>{var t;let e=!1;return e="LIVESTREAM"!==this.meeting.meta.viewType&&((null===(t=this.meeting.self.config.waitingRoom)||void 0===t?void 0:t.isEnabled)&&this.meeting.self.permissions.acceptWaitingRequests),this.meeting.self.permissions.stageEnabled&&this.meeting.self.permissions.acceptStageRequests||e},this.viewSection=t=>{this.currentParticipantsTabId=t},this.meeting=void 0,this.states=void 0,this.config=p.d,this.size=void 0,this.iconPack=i.d,this.defaultParticipantsTabId="stage-list",this.t=(0,r.u)(),this.currentParticipantsTabId=this.defaultParticipantsTabId,this.tabs=[],this.hasRequests=!1,this.search=""}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){null!=this.meeting&&(this.meeting.participants.joined.off("participantJoined",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("participantsUpdate",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("participantLeft",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("stageStatusUpdate",this.updateParticipantCountsInTabs),this.meeting.stage.off("stageStatusUpdate",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("participantJoined",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("participantLeft",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("stageStatusUpdate",this.updateParticipantCountsInTabs))}meetingChanged(t){null!=t&&(t.participants.joined.on("participantJoined",this.updateParticipantCountsInTabs),t.participants.joined.on("participantsUpdate",this.updateParticipantCountsInTabs),t.participants.joined.on("participantLeft",this.updateParticipantCountsInTabs),t.participants.joined.on("stageStatusUpdate",this.updateParticipantCountsInTabs),t.stage.on("stageStatusUpdate",this.updateParticipantCountsInTabs),t.participants.waitlisted.on("participantJoined",this.updateParticipantCountsInTabs),t.participants.waitlisted.on("participantLeft",this.updateParticipantCountsInTabs),t.participants.waitlisted.on("stageStatusUpdate",this.updateParticipantCountsInTabs),this.updateParticipantCountsInTabs())}currentParticipantsTabIdChanged(){o.s.participantsTabId=this.currentParticipantsTabId,this.stateUpdate.emit({participantsTabId:this.currentParticipantsTabId}),this.updateParticipantCountsInTabs()}render(){const t={meeting:this.meeting,states:this.states||o.s,config:this.config,size:this.size,iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,null,(0,a.h)("div",{class:"search",part:"search"},(0,a.h)("dyte-icon",{icon:this.iconPack.search,part:"search-icon",iconPack:this.iconPack,t:this.t}),(0,a.h)("input",{type:"search",autocomplete:"off",placeholder:this.t("search"),onInput:this.onSearchInput,part:"search-input"})),(0,a.h)("slot",{name:"start"}),(0,a.h)("div",{class:"ctr scrollbar "+("requests"!==this.currentParticipantsTabId?"virtualised":""),part:"container"},(0,a.h)("dyte-sidebar-ui",{tabs:this.tabs,currentTab:this.currentParticipantsTabId,view:"full-screen",hideHeader:!0,hideCloseAction:!0,style:{position:"relative"},onTabChange:t=>{this.viewSection(t.detail),t.stopPropagation()}},(!this.currentParticipantsTabId||"stage-list"===this.currentParticipantsTabId)&&(0,a.h)("div",{slot:"stage-list",style:{marginTop:"10px",height:"100%"}},(0,a.h)(n.R,{element:"dyte-participants-stage-list",defaults:t,props:{search:this.search,hideHeader:!0}})),"requests"===this.currentParticipantsTabId&&(0,a.h)("div",{slot:"requests",style:{marginTop:"10px",height:"100%"}},!this.hasRequests&&(0,a.h)("div",{class:"no-pending-requests"},this.t("participants.no_pending_requests")),(0,a.h)(n.R,{element:"dyte-participants-stage-queue",defaults:t}),(0,a.h)(n.R,{element:"dyte-participants-waiting-list",defaults:t})),"viewer-list"===this.currentParticipantsTabId&&(0,a.h)("div",{slot:"viewer-list",style:{marginTop:"10px",height:"100%"}},(0,a.h)(n.R,{element:"dyte-participants-viewer-list",defaults:t,props:{search:this.search,hideHeader:!0}})))),(0,a.h)("slot",{name:"end"}))}static get watchers(){return{meeting:["meetingChanged"],currentParticipantsTabId:["currentParticipantsTabIdChanged"]}}};d.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;width:100%;flex-direction:column;font-size:14px}*{box-sizing:border-box}.ctr{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);box-sizing:border-box;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.ctr.virtualised{overflow-y:hidden}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));margin-left:var(--dyte-space-3, 12px);margin-right:var(--dyte-space-3, 12px);margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px)}.search dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;height:var(--dyte-space-9, 36px);width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}:host([size='md']) .search{margin-top:var(--dyte-space-4, 16px) !important;margin-bottom:var(--dyte-space-4, 16px) !important}:host([size='sm']) .search{margin-top:var(--dyte-space-4, 16px) !important;margin-bottom:var(--dyte-space-4, 16px) !important}.no-pending-requests{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}"},73920:(t,e,s)=>{s.d(e,{R:()=>p,l:()=>o});var a=s(22468);const i=({element:t,size:e,states:s={},config:a={}})=>{let i=[];const r=null==a?void 0:a.root[t],n=t=>{i.push(t),"string"==typeof e&&i.push(`${t}.${e}`)};if(n(t),"object"==typeof r&&!Array.isArray(r)&&null!==r){const{state:e,states:a}=r;let i=t,o=[];if(Array.isArray(a)){o=a.filter((t=>s[t])),o.sort();for(const t of o)n(`${i}.${t}`);if(o.length>1){n([i,...o].join("."))}}if("string"==typeof e){const a=`${t}[${e}=${s[e]}]`;n(a);for(const t of o)n(`${a}.${t}`);if(o.length>1){n([a,...o].join("."))}}}return i},r=({selectors:t,root:e})=>{if(!e||!Array.isArray(t))return[];let s=[];for(const a of t){const t=e[a];if(Array.isArray(t))s=[...t];else if(t){if(t.children&&(s=[...t.children]),Array.isArray(t.remove))for(const e of t.remove)s=s.filter((t=>"string"==typeof t?t!==e:!Array.isArray(t)||t[0]!==e));if(t.addBefore)for(const[e,a]of Object.entries(t.addBefore)){const t=s.findIndex((t=>"string"==typeof t?t===e:!!Array.isArray(t)&&t[0]===e));t>=0&&s.splice(t,0,...a)}Array.isArray(t.add)&&(s=s.concat(t.add)),Array.isArray(t.prepend)&&(s=t.prepend.concat(s))}}return s},n=({elements:t,defaults:e,props:s={},deepProps:i=!1,elementProps:r={}})=>Array.isArray(t)&&0!==t.length?t.map((t=>(0,a.h)(p,{element:t,defaults:e,props:s,childProps:i&&s,elementProps:r}))):null,o=({element:t,defaults:e,props:s={},elementProps:a={}})=>{var n;const{config:o,size:p,states:c}=e;let d,l={},u=[];Array.isArray(t)?[d,l,...u]=t:d=t;const h=null===(n=null==o?void 0:o.root)||void 0===n?void 0:n[d];null!=h&&"props"in h&&(s=Object.assign(Object.assign({},h.props),s)),s=Object.assign(Object.assign({},s),l),d in a&&(s=Object.assign(Object.assign({},s),a[d]));const g=i({element:d,size:p,states:c,config:o});return r({selectors:g,root:o.root}).length},p=({element:t,defaults:e,childProps:s={},props:o={},onlyChildren:p=!1,asHost:c=!1,deepProps:d=!1,elementProps:l={}},u)=>{var h;const{config:g,size:b,states:f}=e;let y,m={},v=[];Array.isArray(t)?[y,m,...v]=t:y=t;const T=null===(h=null==g?void 0:g.root)||void 0===h?void 0:h[y];null!=T&&"props"in T&&(o=Object.assign(Object.assign({},T.props),o)),o=Object.assign(Object.assign({},o),m),y in l&&(o=Object.assign(Object.assign({},o),l[y]));const x=i({element:y,size:b,states:f,config:g}),P=r({selectors:x,root:g.root});if(p)return(0,a.h)(n,{elements:P,defaults:e,props:s,deepProps:d,elementProps:l});const I=(({selectors:t,styles:e})=>{if(!Array.isArray(t)||null==e)return{};const s={};for(const a of t){const t=e[a];null!=t&&Object.assign(s,t)}return s})({selectors:x,styles:g.styles});if(c)return(0,a.h)(a.H,Object.assign({},e,{style:I},o),(0,a.h)(n,{elements:P,defaults:e,props:s,deepProps:d,elementProps:l}),u,v.map((t=>{if(Array.isArray(t)){const[s,i]=t;return(0,a.h)(s,Object.assign({},e,i))}return t})));if(["dyte-header","dyte-controlbar"].includes(y)&&(o.disableRender=!0),y.startsWith("dyte-"))return(0,a.h)(y,Object.assign({},e,{style:I},o),(0,a.h)(n,{elements:P,defaults:e,props:s,deepProps:d,elementProps:l}),u,v.map((t=>{if(Array.isArray(t)){const[s,i]=t;return(0,a.h)(s,Object.assign({},e,i))}return t})));{const[t,i]=y.split("#");return(0,a.h)(t,Object.assign({id:i,style:I},o),(0,a.h)(n,{elements:P,defaults:e,props:s,deepProps:d,elementProps:l}),u,v.map((t=>{if(Array.isArray(t)){const[s,i]=t;return(0,a.h)(s,Object.assign({},e,i))}return t})))}}}}]);