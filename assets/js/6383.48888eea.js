"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[6383],{56383:(t,e,n)=>{n.r(e),n.d(e,{dyte_participant_tile:()=>c});var i=n(37176),s=n(39571),a=n(68753),o=n(74710),r=n(2079),d=n(9367),p=(n(78410),n(60804),n(67341)),l=n(22906);const c=class{constructor(t){(0,i.r)(this,t),this.onVideoUpdate=t=>{this.videoState=t,null!=this.participant&&null!=this.meeting&&(t.videoEnabled?this.meeting.participants.pip.enableSource(this.participant.id):this.meeting.participants.pip.disableSource(this.participant.id))},this.onPinned=({isPinned:t})=>{this.isPinned=t},this.isSelf=()=>{var t;return this.isPreview||this.participant.id===(null===(t=this.meeting)||void 0===t?void 0:t.self.id)},this.videoState=void 0,this.isPinned=!1,this.nameTagPosition="bottom-left",this.isPreview=!1,this.participant=void 0,this.meeting=void 0,this.states=void 0,this.config=d.d,this.variant="solid",this.size=void 0,this.iconPack=a.d,this.t=(0,o.u)()}onVideoRef(t){this.videoEl=t,this.isPreview||null==this.participant||null==this.meeting||(this.meeting.participants.pip.addSource(this.participant.id,this.videoEl,this.participant.videoEnabled,!1,(0,l.g)(this.participant.name)),this.participant.videoEnabled&&this.meeting.participants.pip.enableSource(this.participant.id))}participantVideoUpdate(t){t.id===this.participant.id&&this.onVideoUpdate({videoEnabled:t.videoEnabled,videoTrack:t.videoTrack})}connectedCallback(){this.meeting?this.meetingChanged(this.meeting):this.participantsChanged(this.participant)}componentDidLoad(){this.videoStateChanged(this.videoState)}disconnectedCallback(){if(this.playTimeout&&clearTimeout(this.playTimeout),null==this.participant)return;const{self:t}=this.meeting;this.participant.id===t.id?this.participant.removeListener("videoUpdate",this.onVideoUpdate.bind(this)):this.meeting.participants.joined.removeListener("videoUpdate",this.participantVideoUpdate.bind(this)),this.participant.removeListener("pinned",this.onPinned.bind(this)),this.participant.removeListener("unpinned",this.onPinned.bind(this)),this.meeting.participants.pip.removeSource(this.participant.id)}meetingChanged(t){null!=t&&this.participantsChanged(this.participant)}participantsChanged(t){if(null==t)return;if(this.videoState={videoEnabled:t.videoEnabled,videoTrack:t.videoTrack},void 0===this.meeting)return void(this.isPreview&&t.addListener("videoUpdate",this.onVideoUpdate));const{self:e}=this.meeting;this.isPinned=t.isPinned,t.id===e.id?t.addListener("videoUpdate",this.onVideoUpdate.bind(this)):this.meeting.participants.joined.addListener("videoUpdate",this.participantVideoUpdate.bind(this)),t.addListener("pinned",this.onPinned.bind(this)),t.addListener("unpinned",this.onPinned.bind(this))}videoStateChanged(t){var e;if(null!=t&&null!=this.videoEl)if(t.videoEnabled){(null===(e=this.meeting)||void 0===e?void 0:e.__internals__.features.hasFeature(r.F.LOG_PLAYING_FAILURES))&&(this.playTimeout&&clearTimeout(this.playTimeout),this.playTimeout=setTimeout((()=>{var t;null===(t=this.meeting)||void 0===t||t.__internals__.logger.log("dyte-participant-tile::playing_timeout")}),6e3));const n=new MediaStream;if(null==t.videoTrack)return;n.addTrack(t.videoTrack),this.videoEl.srcObject=n}else this.playTimeout&&clearTimeout(this.playTimeout),this.videoEl.srcObject=void 0}isMirrored(){var t;if(null!=this.participant&&this.isSelf()){const e=this.states||s.s,n=null===(t=null==e?void 0:e.prefs)||void 0===t?void 0:t.mirrorVideo;if("boolean"==typeof n)return n}return!1}render(){var t,e,n,a;const o={meeting:this.meeting,size:this.size,states:this.states||s.s,config:this.config,iconPack:this.iconPack,t:this.t};return(0,i.h)(i.H,null,(0,i.h)("video",{ref:t=>this.onVideoRef(t),class:{visible:null===(t=this.videoState)||void 0===t?void 0:t.videoEnabled,mirror:this.isMirrored(),[null!==(a=null===(n=null===(e=this.config)||void 0===e?void 0:e.config)||void 0===n?void 0:n.videoFit)&&void 0!==a?a:"cover"]:!0},onPlaying:()=>{this.playTimeout&&clearTimeout(this.playTimeout)},onPause:t=>{var e,n;this.isSelf()&&(null===(e=this.meeting)||void 0===e?void 0:e.__internals__.features.hasFeature(r.F.PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE))&&(this.meeting.__internals__.logger.warn(`Video player paused for ${this.participant.id} isSelf: ${this.isSelf()}`),null===(n=null==t?void 0:t.target)||void 0===n||n.play())},autoPlay:!0,playsInline:!0,muted:!0,part:"video"}),this.isPinned&&(0,i.h)("dyte-icon",{class:"pinned-icon",icon:this.iconPack.pin,"aria-label":this.t("pinned"),iconPack:this.iconPack,t:this.t,part:"pinned-icon"}),(0,i.h)("slot",null,(0,i.h)(p.R,{element:"dyte-participant-tile",defaults:o,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))}static get watchers(){return{meeting:["meetingChanged"],participant:["participantsChanged"],videoState:["videoStateChanged"]}}};c.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  aspect-ratio: 16 / 9;\n  height: var(--dyte-space-56, 224px);\n  overflow: hidden;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));\n\n  transition-property: var(--dyte-transition-property, all);\n  transition-duration: 150ms;\n  container-type: inline-size;\n  container-name: participanttile;\n}\n\n@media (prefers-reduced-motion) {\n  /* No transitions when disabled */\n  :host {\n    --dyte-transition-property: none;\n  }\n}\n\n/**\n  NOTE: provided :slotted(dyte-name-tag) & dyte-name-tag separately\n  because ::slotted isn't applied on default slots.\n*/\n\n::slotted(dyte-name-tag), \ndyte-name-tag {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag), \n  :host([size='sm'][variant='solid']) dyte-name-tag {\n  left: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n  height: var(--dyte-space-4, 16px);\n}\n\n::slotted(dyte-network-indicator), \ndyte-network-indicator {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm']) ::slotted(dyte-network-indicator), \n  :host([size='sm']) dyte-network-indicator {\n  right: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n}\n\nvideo {\n  display: none;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n}\n\nvideo.contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\nvideo.cover {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\nvideo.visible {\n  display: block;\n}\n\nvideo::-webkit-media-controls {\n  display: none !important;\n}\n\n.pinned-icon {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  top: var(--dyte-space-3, 12px);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  padding: var(--dyte-space-1, 4px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n\n:host([size='sm']) .pinned-icon {\n  top: var(--dyte-space-2, 8px);\n  left: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-audio-visualizer), \n  :host([variant='gradient']) dyte-audio-visualizer {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  right: var(--dyte-space-2, 8px);\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  padding: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-name-tag), \n  :host([variant='gradient']) dyte-name-tag {\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: transparent;\n  background-image: linear-gradient(to top, var(--tw-gradient-stops));\n  --tw-gradient-from: rgb(var(--dyte-colors-background-1000, 8 8 8));\n  --tw-gradient-to: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: transparent;\n}\n\nvideo.mirror {\n  transform: scaleX(-1);\n}\n\n/** Name tag positions */\n\n:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-right']) dyte-name-tag {\n  left: auto;\n  right: var(--dyte-space-3, 12px);\n}\n\n:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n}\n\n:host([name-tag-position='top-left']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-left']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  bottom: auto;\n}\n\n:host([name-tag-position='top-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-right']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  right: var(--dyte-space-3, 12px);\n  left: auto;\n  bottom: auto;\n}\n\n:host([name-tag-position='top-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n  bottom: auto;\n  top: var(--dyte-space-3, 12px);\n}\n\n@container participanttile (max-width: 300px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag {\n    transform-origin: 0 100%;\n    transform: scale(0.8);\n  }\n}\n\n@container participanttile (max-width: 150px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag {\n    transform-origin: -10% 130%;\n    transform: scale(0.6);\n    border-radius: 9999px;\n  }\n}\n"},67341:(t,e,n)=>{n.d(e,{R:()=>d,l:()=>r});var i=n(37176);const s=({element:t,size:e,states:n={},config:i={}})=>{let s=[];const a=null==i?void 0:i.root[t],o=t=>{s.push(t),"string"==typeof e&&s.push(`${t}.${e}`)};if(o(t),"object"==typeof a&&!Array.isArray(a)&&null!==a){const{state:e,states:i}=a;let s=t,r=[];if(Array.isArray(i)){r=i.filter((t=>n[t])),r.sort();for(const t of r)o(`${s}.${t}`);if(r.length>1){o([s,...r].join("."))}}if("string"==typeof e){const i=`${t}[${e}=${n[e]}]`;o(i);for(const t of r)o(`${i}.${t}`);if(r.length>1){o([i,...r].join("."))}}}return s},a=({selectors:t,root:e})=>{if(!e||!Array.isArray(t))return[];let n=[];for(const i of t){const t=e[i];if(Array.isArray(t))n=[...t];else if(t){if(t.children&&(n=[...t.children]),Array.isArray(t.remove))for(const e of t.remove)n=n.filter((t=>"string"==typeof t?t!==e:!Array.isArray(t)||t[0]!==e));if(t.addBefore)for(const[e,i]of Object.entries(t.addBefore)){const t=n.findIndex((t=>"string"==typeof t?t===e:!!Array.isArray(t)&&t[0]===e));t>=0&&n.splice(t,0,...i)}Array.isArray(t.add)&&(n=n.concat(t.add)),Array.isArray(t.prepend)&&(n=t.prepend.concat(n))}}return n},o=({elements:t,defaults:e,props:n={},deepProps:s=!1,elementProps:a={}})=>Array.isArray(t)&&0!==t.length?t.map((t=>(0,i.h)(d,{element:t,defaults:e,props:n,childProps:s&&n,elementProps:a}))):null,r=({element:t,defaults:e,props:n={},elementProps:i={}})=>{var o;const{config:r,size:d,states:p}=e;let l,c={},h=[];Array.isArray(t)?[l,c,...h]=t:l=t;const g=null===(o=null==r?void 0:r.root)||void 0===o?void 0:o[l];null!=g&&"props"in g&&(n=Object.assign(Object.assign({},g.props),n)),n=Object.assign(Object.assign({},n),c),l in i&&(n=Object.assign(Object.assign({},n),i[l]));const u=s({element:l,size:d,states:p,config:r});return a({selectors:u,root:r.root}).length},d=({element:t,defaults:e,childProps:n={},props:r={},onlyChildren:d=!1,asHost:p=!1,deepProps:l=!1,elementProps:c={}},h)=>{var g;const{config:u,size:v,states:y}=e;let m,f={},b=[];Array.isArray(t)?[m,f,...b]=t:m=t;const P=null===(g=null==u?void 0:u.root)||void 0===g?void 0:g[m];null!=P&&"props"in P&&(r=Object.assign(Object.assign({},P.props),r)),r=Object.assign(Object.assign({},r),f),m in c&&(r=Object.assign(Object.assign({},r),c[m]));const x=s({element:m,size:v,states:y,config:u}),w=a({selectors:x,root:u.root});if(d)return(0,i.h)(o,{elements:w,defaults:e,props:n,deepProps:l,elementProps:c});const A=(({selectors:t,styles:e})=>{if(!Array.isArray(t)||null==e)return{};const n={};for(const i of t){const t=e[i];null!=t&&Object.assign(n,t)}return n})({selectors:x,styles:u.styles});if(p)return(0,i.h)(i.H,Object.assign({},e,{style:A},r),(0,i.h)(o,{elements:w,defaults:e,props:n,deepProps:l,elementProps:c}),h,b.map((t=>{if(Array.isArray(t)){const[n,s]=t;return(0,i.h)(n,Object.assign({},e,s))}return t})));if(["dyte-header","dyte-controlbar"].includes(m)&&(r.disableRender=!0),m.startsWith("dyte-"))return(0,i.h)(m,Object.assign({},e,{style:A},r),(0,i.h)(o,{elements:w,defaults:e,props:n,deepProps:l,elementProps:c}),h,b.map((t=>{if(Array.isArray(t)){const[n,s]=t;return(0,i.h)(n,Object.assign({},e,s))}return t})));{const[t,s]=m.split("#");return(0,i.h)(t,Object.assign({id:s,style:A},r),(0,i.h)(o,{elements:w,defaults:e,props:n,deepProps:l,elementProps:c}),h,b.map((t=>{if(Array.isArray(t)){const[n,s]=t;return(0,i.h)(n,Object.assign({},e,s))}return t})))}}},39571:(t,e,n)=>{n.d(e,{o:()=>p,s:()=>d});var i=n(37176);const s=t=>!("isConnected"in t)||t.isConnected,a=((t,e)=>{let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,t(...i)}),e)}})((t=>{for(let e of t.keys())t.set(e,t.get(e).filter(s))}),2e3),o=t=>"function"==typeof t?t():t,r=(t,e)=>{const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.length--)},{state:d,onChange:p}=((t,e)=>{const n=((t,e=((t,e)=>t!==e))=>{const n=o(t);let i=new Map(Object.entries(null!=n?n:{}));const s={dispose:[],get:[],set:[],reset:[]},a=()=>{var e;i=new Map(Object.entries(null!==(e=o(t))&&void 0!==e?e:{})),s.reset.forEach((t=>t()))},d=t=>(s.get.forEach((e=>e(t))),i.get(t)),p=(t,n)=>{const a=i.get(t);e(n,a,t)&&(i.set(t,n),s.set.forEach((e=>e(t,n,a))))},l="undefined"==typeof Proxy?{}:new Proxy(n,{get:(t,e)=>d(e),ownKeys:t=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>i.has(e),set:(t,e,n)=>(p(e,n),!0)}),c=(t,e)=>(s[t].push(e),()=>{r(s[t],e)});return{state:l,get:d,set:p,on:c,onChange:(e,n)=>{const i=c("set",((t,i)=>{t===e&&n(i)})),s=c("reset",(()=>n(o(t)[e])));return()=>{i(),s()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(c("set",e.set)),e.get&&t.push(c("get",e.get)),e.reset&&t.push(c("reset",e.reset)),e.dispose&&t.push(c("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{s.dispose.forEach((t=>t())),a()},reset:a,forceUpdate:t=>{const e=i.get(t);s.set.forEach((n=>n(t,e,e)))}}})(t,e);return n.use((()=>{if("function"!=typeof i.a)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const n=(0,i.a)();n&&((t,e,n)=>{const i=t.get(e);i?i.includes(n)||i.push(n):t.set(e,[n])})(t,e,n)},set:e=>{const n=t.get(e);n&&t.set(e,n.filter(i.f)),a(t)},reset:()=>{t.forEach((t=>t.forEach(i.f))),a(t)}}})()),n})({})},22906:(t,e,n)=>{n.d(e,{a:()=>a,f:()=>o,g:()=>r,h:()=>s,s:()=>i});const i=(t,e=20)=>null==t?"":t.length>e?`${t.substring(0,e)}...`:t,s=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),a=t=>(null==t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t,o=t=>""===(t=null==t?void 0:t.trim())?"Participant":t;function r(t,e=2){return t.replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/g,"").trim().split(/\s+/).slice(0,e).map((t=>t.charAt(0))).join("").toUpperCase()}}}]);